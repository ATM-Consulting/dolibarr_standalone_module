<div id="proposal-list" class="tab-pane">
	<div class="container-fluid">
		<div  class="row">
			<div class="input-group">
				<input type="text" id="search-proposal" class="form-control" placeholder="Proposal" onchange="doliDb.getItemOnKey('proposal', this.value, ['ref', 'id'], refreshProposalList);" />
				<span class="input-group-btn">
					<button class="btn btn-default" type="button">
						<span class="glyphicon glyphicon-search" aria-hidden="true"></span>
					</button> </span>
			</div>
		</div>

		<div class="row">
			<ul class="list-group">

			</ul>
		</div>

	</div>
</div>

<div id="proposal-card"  class="tab-pane">
	<input type="hidden" name="id" value="" />
	<input type="hidden" name="type" value="proposal" />

	<div class="container-fluid">
		<div  class="row">
			<h1 rel="ref"></h1>
                        <h3>Proposition pour le client : <p id="nomDuClient" rel="nom-client"></p>  </h3><br>
                        
                        <h4>Durée de validité : <p id="cond_reglement" rel="cond_reglement"></p>  </h4><br>
                        <h4>Mode de réglement : <p id="mode_reglement" rel="mode_reglement"></p>  </h4><br>
                        
                      <br><br>
			<div>
				<table id="tableListeProduits" class="text-xs-center lines_propal">
					
				</table>
			
				&nbsp;&nbsp;<span rel="town"></span>
			</div>
                        <h3>Total TTC :<p id="total_ttc" rel="total"></p> </h3><br>

		</div>
	</div>
	<a data-toggle="tab" href="#proposal-card-edit" class="link_edit move_tab">
		<button type="button" class="btn btn-primary btn-circle btn-lg btn-edit" onclick="showItem('proposal', $('#proposal-card input[name=id]').val(), editProposal);">
                    <i class="glyphicon glyphicon-pencil"></i>
		</button>
	</a>
</div>


<div id="proposal-card-edit" class="tab-pane">
	<input type="hidden" name="id" id="propalid" value="" />
	<input type="hidden" name="fk_soc" value="" />
        <input type="hidden" id="id_client" name="ref_client" value=""/>

	<div class="container-fluid">

		<form class="form-horizontal">
			<div class="form-group">

                                <!-- Id du client -->
				<label for="ReferenceClient"><langs trans="Reference du client"></langs></label>
				<div id="nom_client">
					<input name="ref_client" class="form-control" type="text"  value="" disabled/>
				</div>

				<!-- ref -->
				<label for="ReferencePropal"><langs trans="Reference de la Propal"></langs></label>
				<div id="reference">
					<input class="form-control" type="text" name="ref" value="" disabled/>
				</div>

				<!-- Date -->
				<label for="DateCreation"><langs trans="Date De Creation"></langs></label>
				<div id="datecreation">
					<input class="form-control" type="text" name="date_creation"/>
				</div>

				<!-- Durée de validité --><!-- Conditions de reglement -->
				<label for="Conditon De Reglement"><langs trans="Conditon De Reglement"></langs></label>
				<div id="datep">
					<input class="form-control" type="text" name="cond_reglement"/>
				</div>

				<label for="ModeRegelement"><langs trans="Mode de Regelement"></langs></label>
				<div id="modeRegelement">
					<select class="form-control" name="cond_reglement">
                                                <option value="" disabled selected>Choisir la condition de reglement</option>
						<option value="A la reception">
                                                        A reception
						</option>
						<option value="30 jours">
							30 jours
						</option>
						<option value="30 jours fin de mois">
							30 jours fin de mois
						</option>
						<option value="60 jours">
							60 jours
						</option>
						<option value="60 jours fin de mois">
							60 jours fin de mois
						</option>
						<option value="A réception de commande">
							A la commande
						</option>
						<option value="Livraison">
							A la livraison
						</option>
						<option value="50 et 50">
							50/50
						</option>

					</select>
				</div>

				<!-- Mode de reglement -->
				<label for="Modepayement"><langs trans="Mode de payement"></langs></label>
				<div id="ModeReglement">
					<select class="form-control" name="mode_reglement">
						<option value="" disabled selected>Choisir le mode de paiement</option>
                                                <option value="Carte bancaire">
							Carte bancaire
						</option>
						<option value="Chèque">
							Chèque
						</option>
						<option value="Espèces">
							Espèce
						</option>
						<option value="Prélèvement">
							Prélèvement
						</option>
						<option value="Virement">
							Virement
						</option>

					</select>
				</div>

                                <!-- Description -->
				<label for="Liste des produits"><langs trans="Liste des produits"></langs></label>
				<div id="listeProduits" class>
                                    <table id="tableListeProduits">
                                        <thead>
                                            <tr>
                                                <th>Nom</th>
                                                <th>Prix</th>
                                                <th>Quantite</th>
                                                <th> <span class="glyphicon glyphicon-remove" onClick="clearAllPropalLines();"></span></th>
                                            </tr>
                                        </thead>
                                        <tbody id="tableListeProduitsBodyEdit">

                                        </tbody>
                                        <tfoot>
                                            <tr id="unexistProductEdit">
                                                <td>
                                                    <input type="text" id="name">
                                                </td>
                                                <td>
                                                    <input type="number" step=0.01 min="0.01" id="pUprod">
                                                </td>
                                                <td>
                                                    <input type="number" min="0" id="nbprod">
                                                </td>
                                               
                                                <td>
                                                    <span class="glyphicon glyphicon-ok" onClick='addUnExistProduct()'>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="4">
                                                    <input type="text" id="totaltableEdit" value="" disabled="disabled" />
                                                </td>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>


				<label for="Ajouter un produit"><langs trans="Ajouter un produit"></langs></label>
				<div id="selectionProduit">
					<div class="container-fluid">
						<div  class="row">
							<div class="input-group">
                                                            <input type="text" class="form-control" placeholder="Categorie des produits" /><!--onchange="doliDb.getItemOnKey('product', this.value, ['label', 'id', 'ref'], refreshProductList, '#product-list-proposal-card-edit');"-->
								<span class="input-group-btn">
                                                                    <a data-toggle="tab" href="#product-list-propal" class="btn btn-warning" onclick="showList('product', refreshProductList, '#product-list-propal');"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></a>
                                                                </span>
							</div>
						</div>
					</div>
				</div>
				<!-- Permet d'éviter le chevauchement du dernier input sous les boutons d'actions en bas de l'écran -->
				<div>&nbsp;</div>
				<div>&nbsp;</div>
				<div>&nbsp;</div>
			</div>

		</form>

	</div>

	<div class="row navbar-fixed-bottom">
		<a data-toggle="tab" href="#proposal-card" class="btn btn-default col-xs-6 move_tab"><langs trans="Cancel"></langs></a>
		<a data-toggle="tab" href="#proposal-card" onclick="updateItem($('#proposal-card-edit'), 'proposal');" class="btn btn-success col-xs-6 move_tab"><langs trans="Update"></langs></a>
	</div>
</div>

        <div id="proposal-card-add" class="tab-pane">
	<input type="hidden" name="id" id="propalid" value="" />
	<input type="hidden" name="fk_soc" value="" />
        <input type="hidden" id="id_client" name="id_client" value=""/>

	<div class="container-fluid">

		<form class="form-horizontal">
			<div class="form-group">

                                <label for="Client"><langs trans="Nom du client"></langs></label>
				<div id="nom_client">
					<input name="nom-client" class="form-control" type="text"  value="" disabled/>
				</div>

				<!-- ref -->
				<label for="ref"><langs trans="Reference"></langs></label>
				<div id="ref">
					<input class="form-control" type="text" name="ref"/>
				</div>

				<!-- Durée de validité --><!-- Conditions de reglement -->
				<label for="Condition de Reglement"><langs trans="Condition de Reglement"></langs></label>
				<div id="ConditionReglement">
					<select class="form-control" name="cond_reglement">
                                                <option value="" disabled selected>Choisir la condition de reglement</option>
						<option value="A la reception">
                                                        A reception
						</option>
						<option value="30 jours">
							30 jours
						</option>
						<option value="30 jours fin de mois">
							30 jours fin de mois
						</option>
						<option value="60 jours">
							60 jours
						</option>
						<option value="60 jours fin de mois">
							60 jours fin de mois
						</option>
						<option value="A réception de commande">
							A la commande
						</option>
						<option value="Livraison">
							A la livraison
						</option>
						<option value="50 et 50">
							50/50
						</option>
					</select>
				</div>

				<!-- Mode de reglement -->
				<label for="ModeReglement"><langs trans="ProposalReglement"></langs></label>
				<div id="ModeReglement">
					<select class="form-control" name="mode_reglement">
						<option value="" disabled selected>Choisir le mode de paiement</option>
                                                <option value="Carte bancaire">
							Carte bancaire
						</option>
						<option value="Chèque">
							Chèque
						</option>
						<option value="Espèce">
							Espèce
						</option>
						<option value="Prélèvement">
							Prélèvement
						</option>
						<option value="Virement">
							Virement
						</option>

					</select>
				</div>

                                <!-- Description -->
				<label for="listeProduits"><langs trans="Liste des produits"></langs></label>
				<div id="listeProduits">
                                    <table id="tableListeProduits" >
                                        <thead>
                                            <tr >
                                                <th>Nom</th>
                                                <th>Prix</th>
                                                <th>Quantite</th>
                                                <th>Taux TVA (%)</th>
                                                <th>Réduction (%)</th>
                                                <th> <span class="glyphicon glyphicon-remove"></span></th>
                                            </tr>
                                        </thead>
                                        <tbody id="tableListeProduitsBodyAdd">

                                        </tbody>
                                        <tfoot>
                                            <tr id="unexistProductAdd">
                                                <td>
                                                    <input type="text" id="name">
                                                </td>
                                                <td>
                                                    <input type="number" min="1" id="pUprod">
                                                </td>
                                                <td>
                                                    <input type="number" min="0" id="nbprod">
                                                </td>
                                                 <td>
                                                    <select class="form-control" name="tva_tx">
                                                            
                                                            <option selected value=0>
                                                                    0%
                                                            </option>
                                                            <option value=2.1>
                                                                    2,1%
                                                            </option>
                                                            <option value="5.5">
                                                                    5,5%
                                                            </option>
                                                            <option value="10">
                                                                    10%
                                                            </option>
                                                            <option value="20">
                                                                    20%
                                                            </option>

                                                    </select>
                                                </td>
                                                <td>
                                                    <input type="number" min="0" max="100" id="remise_percent">%
                                                </td>
                                                <td>
                                                    <span class="glyphicon glyphicon-ok" onClick='addUnExistProduct("add")'>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="5"> 
                                                    Total TTC : <input type="text" id="totaltableAdd" value="" disabled="disabled" name="total"/>
                                                </td>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>


				<label for="selectionProduit"><langs trans="Selectionner des produits"></langs></label>
				<div id="selectionProduit">
					<div class="container-fluid">
						<div  class="row">
							<div class="input-group">
                                                            <input type="text" class="form-control" placeholder="Categorie des produits" /><!--onchange="doliDb.getItemOnKey('product', this.value, ['label', 'id', 'ref'], refreshProductList, '#product-list-proposal-card-edit');"-->
								<span class="input-group-btn">
                                                                    <a data-toggle="tab" href="#product-list-propal" class="btn btn-warning" onclick="showList('product', refreshProductList, '#product-list-propal');"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></a>
                                                                </span>
							</div>
						</div>
					</div>
				</div>





				<!-- Permet d'éviter le chevauchement du dernier input sous les boutons d'actions en bas de l'écran -->
				<div>&nbsp;</div>
				<div>&nbsp;</div>
				<div>&nbsp;</div>
			</div>

		</form>

	</div>

	<div class="row navbar-fixed-bottom">
            <a data-toggle="tab" href="#proposal-card" class="btn btn-default col-xs-6 move_tab"><langs trans="Cancel"></langs></a>
            <a data-toggle="tab" href="#proposal-card" onclick="createItem($('#proposal-card-add'), 'proposal');" class="btn btn-success col-xs-6 move_tab"><langs trans="Add item"></langs></a>
	</div>
</div>
